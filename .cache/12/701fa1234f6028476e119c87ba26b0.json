{"id":"s8zH","dependencies":[{"name":"/Users/swann/UniversiteÃÅ/Master2 /IA /Data Vizualisation/TP3/package.json","includedInParent":true,"mtime":1638443005490}],"generated":{"html":"<!DOCTYPE html><head><meta charset=\"utf-8\"><script src=\"https://d3js.org/d3.v7.min.js\"></script><style>body{margin:0;position:fixed;top:0;right:0;bottom:0;left:0}.dep{fill:#000;stroke:#fff;stroke-width:1px}.dep:hover{fill:#666}.hidden{display:none}div.tooltip{color:#222;background-color:#fff;padding:.5em;text-shadow:#f5f5f5 0 1px 0;border-radius:2px;opacity:.9;position:absolute}</style></head><body> <div> <input id=\"slider\" type=\"range\" value=\"0\" min=\"0\" max=\"178\" step=\"1\"><br> <span id=\"day\">day</span> </div> <script>var e=700,t=580,n=d3.select(\"body\").append(\"svg\").attr(\"width\",e).attr(\"height\",t),o=d3.select(\"body\").append(\"div\").attr(\"class\",\"hidden tooltip\"),r=n.append(\"g\"),s=d3.geoConicConformal().center([2.454071,46.279229]).scale(2800),a=d3.scaleQuantize().range([\"#edf8e9\",\"#bae4b3\",\"#74c476\",\"#31a354\",\"#006d2c\"]),d=d3.geoPath().projection(s),i=\"2021-09-12\";d3.csv(\"covid_se.csv\").then(function(e){var t=e.filter(function(e){return 0==e.sexe});console.log(t),a.domain([d3.min(e,function(e){return e.hosp}),d3.max(e,function(e){return e.hosp})]),d3.json(\"dep_fr.geojson\").then(function(e){for(var r=0;r<e.features.length;r++){var s=e.features[r].properties,i=t.filter(function(e){return e.dep==s.code}).map(function(e){return e.hosp});e.features[r].properties.values=i}d3.select(\"#slider\").on(\"input\",function(){var t;t=+this.value,n.selectAll(\"path\").data(e.features).join(\"path\").attr(\"d\",d).style(\"fill\",function(e){var n=e.properties.values[t];return n?a(n):\"#ccc\"}).on(\"mousemove\",function(e,n){var r=[e.x,e.y];console.log(r),o.classed(\"hidden\",!1).attr(\"style\",\"left:\"+(r[0]+15)+\"px; top:\"+(r[1]-35)+\"px\").html(n.properties.nom+\"<br>\"+n.properties.values[t])}).on(\"mouseout\",function(){o.classed(\"hidden\",!0)}),d3.select(\"#day\").html(+this.value)})})});</script> </body>"},"sourceMaps":null,"error":null,"hash":"f4bcc1f5dbe0f37d3b174b293f1dfadd","cacheData":{"env":{}}}